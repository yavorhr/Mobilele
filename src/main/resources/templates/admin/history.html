<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments/head :: head(additionalCss='/css/admin/notifications.css')"></head>

<header th:replace="fragments/navbar"></header>

<body data-logged-in-username="${loggedInUsername}">
<main>
    <div class="container mt-4">
        <h1 class="text-white text-center">Stats History</h1>

        <table class="table table-dark table-striped mt-4">
            <thead>
            <tr>
                <th>ID</th>
                <th>Timestamp</th>
                <th>Total</th>
                <th>Auth</th>
                <th>Anon</th>
                <th>View</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="s : ${snapshots}">
                <td th:text="${s.id}"></td>
                <td th:text="${#temporals.format(s.timeStamp, 'yyyy-MM-dd HH:mm:ss')}"></td>
                <td th:text="${s.totalRequests}"></td>
                <td th:text="${s.authRequests}"></td>
                <td th:text="${s.anonRequests}"></td>
                <td>
                    <a th:href="@{'/admin/history/' + ${s.id}}"
                       class="btn btn-sm btn-primary">
                        Open
                    </a>
                </td>
            </tr>
            </tbody>
        </table>

        <div class="mt-3">
            <a th:href="@{/admin/statistics}" class="btn btn-secondary">Back to live stats</a>
        </div>
    </div>
</main>

</body>
</html>