<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:replace="fragments/head :: head(additionalCss='/css/admin/sellers-performance.css')"></head>

<header th:replace="fragments/navbar"></header>

<body class="auth-layout">
<main class="main-content container-fluid">
    <div class="heading-wrapper mb-4">
        <h1 class="section-title" th:text="#{stats.sellers.title}">ðŸ“Š Sellers Performances</h1>
    </div>
    <form
            method="get" class="filters mb-5">
        <label>
            <span th:text="#{stats.sellers.year}"></span>:
            <select name="year" onchange=" this.form.submit()">
                <option th:each="y : ${years}"
                        th:value="${y}"
                        th:text="${y}"
                        th:selected="${y == selectedYear}">
                </option>
            </select>
        </label>
        <label>
            <span th:text="#{stats.sellers.top}"></span>:
            <select name="top" onchange="this.form.submit()">
                <option value="" th:text="#{stats.sellers.all}">All</option>
                <option value="10" th:text="#{stats.sellers.top10}" th:selected="${top == 10}">Top 10</option>
                <option value="20" th:text="#{stats.sellers.top20}" th:selected="${top == 20}">Top 20</option>
            </select>
        </label>
    </form>
    <div class="table-wrapper">
        <table class="stats-table">
            <thead>
            <tr>
                <th>#</th>
                <th th:text="#{stats.sellers.seller}"></th>
                <th th:text="#{stats.sellers.email}"></th>
                <th th:text="#{stats.sellers.phone}"></th>
                <th th:text="#{stats.sellers.soldCars}"></th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="row, stat : ${sellers}">
                <td th:text="${stat.index + 1}"></td>
                <td th:text="${row.firstName + ' ' + row.lastName}"></td>
                <td th:text="${row.email}"></td>
                <td th:text="${row.phoneNumber}"></td>
                <td class="sold-count" th:text="${row.soldCount}"></td>
            </tr>
            <tr th:if="${#lists.isEmpty(sellers)}">
                <td colspan="5"
                    th:text="#{stats.sellers.noData}">No data for this year.
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</main>
<footer th:replace="fragments/minimal-footer"></footer>
</body>
</html>
